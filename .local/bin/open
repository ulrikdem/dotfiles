#!/bin/bash
text=()
for file; do
    if [[ $(file -b --mime-type -- "$file") =~ (^text/|^inode/x-empty$) ]]; then
        text+=("$file")
    else
        xdg-open "$file" &>/dev/null &
    fi
done
if ((${#text[@]})); then
    exec nvim -- "${text[@]}"
fi
